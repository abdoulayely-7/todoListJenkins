2ï¸âƒ£ Ajouter un groupe Docker et mapper lâ€™UID/GID

Plus sÃ©curisÃ© mais un peu plus compliquÃ©â€¯:

VÃ©rifie le GID du groupe Docker sur lâ€™hÃ´teâ€¯:

getent group docker


Tu auras quelque chose comme docker:x:999:ton_user. Le 999 est le GID.

Dans lâ€™agent Docker, crÃ©e un utilisateur qui appartient Ã  ce groupeâ€¯:

command: >
  sh -c "groupadd -g 999 docker && usermod -aG docker jenkins && java -jar /usr/share/jenkins/agent.jar ..."


Ã‡a permet dâ€™accÃ©der Ã  Docker sans Ãªtre root.

ğŸ’¡ Pour dÃ©marrer vite et tester, je te conseille la solution 1â€¯: user: root pour lâ€™agent.