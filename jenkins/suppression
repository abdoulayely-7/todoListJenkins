1️⃣ Supprimer les conteneurs liés à ton projet

D’après ce que tu as listé :

docker ps -a


Pour ton projet, les conteneurs étaient :

jenkins-master → jenkins/jenkins:lts-jdk21

jenkins-agent-node → jenkins/inbound-agent:latest

Tu les as déjà stoppés, sinon :

docker stop jenkins-master jenkins-agent-node


Puis supprime-les :

docker rm jenkins-master jenkins-agent-node

2️⃣ Supprimer les images Docker de ton projet

Pour todolist :

docker image ls


Tu as plusieurs images abdoulayely777/todolist. Pour toutes les supprimer d’un coup :

docker rmi -f $(docker images abdoulayely777/todolist -q)


Cela supprime toutes les versions (tags latest et <none>).

3️⃣ Supprimer les volumes spécifiques Jenkins (optionnel)

Si tu veux repartir proprement pour ce projet seulement :

docker volume ls


Tu verras jenkins_home. Pour le supprimer (lié uniquement à ce Jenkins) :

docker volume rm jenkins_home


⚠️ Ne le fais que si tu n’as aucun autre projet Jenkins dessus que tu veux garder.

4️⃣ Supprimer le réseau dédié Jenkins (optionnel)

Si ton réseau était jenkins :

docker network ls
docker network rm jenkins


sudo rm -rf ./jenkins_home


agent:
    image: jenkins/inbound-agent:latest
    container_name: jenkins-agent-node
    user: root
    depends_on:
      - jenkins
    environment:
      - JENKINS_URL=http://jenkins:8080        # ⚠️ Le master est joignable par son nom de service (pas besoin d'IP)
      - JENKINS_AGENT_NAME=node1
      - JENKINS_SECRET=efae51eec32aa467cb41b2891af5ac6b54c634bd5b0e73bf99726dfdbee95c0e  # ⚠️ À remplacer par ton secret réel
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /usr/bin/docker:/usr/bin/docker
    networks:
      - jenkins
    restart: unless-stopped



    agent:
    image: jenkins/inbound-agent:latest
    container_name: jenkins-agent-node
    user: root
    depends_on:
      - jenkins
    environment:
      - JENKINS_URL=http://jenkins:8080        
      - JENKINS_AGENT_NAME=thierno
      - JENKINS_SECRET=ea43ab304c9f5b0da8760751e9e870b963e5cce496d4d84d747d7c4741db229f  
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - /usr/bin/docker:/usr/bin/docker
    networks:
      - jenkins
    restart: unless-stopped